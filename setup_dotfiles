#!/usr/bin/env python
import os, shutil

def remove_any(path):
    if os.path.islink(path): os.unlink(path)
    if os.path.isfile(path): os.remove(path)
    if os.path.isdir(path): shutil.rmtree(path)

def make_path(*args):
    return '/'.join(args)

username      = 'renan'
homedir       = make_path('/home', username, 'emacs.d')
dirname       = make_path(os.getcwd(), 'emacs.d')
dot_emacs_dir = make_path(homedir, 'emacs.d')

remove_any(dot_emacs_dir)
os.mkdir(dot_emacs_dir)

for name in os.listdir(dirname):
    head = make_path(dirname, name)
    tail = make_path(homedir, name)
    remove_any(tail)
    os.symlink(head, tail)
